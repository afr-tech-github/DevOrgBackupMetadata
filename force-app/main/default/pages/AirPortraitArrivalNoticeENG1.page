<apex:page controller="cntl_Arrival_Notice" contentType="text-html" showHeader="false" applyHtmlTag="false" renderAs="pdf">
    <head>
        <style>
        </style>
        <style>
            body {
            font-family: Arial Unicode MS;
            font-size: 7pt;
            text-transform: uppercase;
            }
            
            @page {
            size: 210mm 297mm;
            margin: 10mm;
            @bottom-left {
            content: element(footer);
            }
            }
            div.footer {
            display: block;
            padding: 5px;
            position: running(footer);
            }
            .pagenumber:before {
            content: counter(page);
            }
            .pagecount:before {
            content: counter(pages);
            }
            .f5 { font-size: 5pt; }
            .f6 { font-size: 6pt; }
            .f7 { font-size: 7pt; }
            .f8 { font-size: 8pt; }
            .f9 { font-size: 9pt; }
            .f10 { font-size: 10pt; }
            .f11 { font-size: 11pt; }
            .f12 { font-size: 12pt; }
            .f14 { font-size: 14pt; }
            .f16 { font-size: 16pt; }
            .f18 { font-size: 18pt; }
            .f20 { font-size: 20pt; font-weight: bold; }
            .f25 { font-size: 25pt; font-weight: bold; }
            .f30 { font-size: 30pt; font-weight: bold; }
            .pnl-logo .f20 { text-transform: uppercase; }
            * {
            margin: 0;
            padding: 0;
            }
            table{
            border-spacing: 0;
            border-collapse: collapse;
            width:100%;
            }
            table * {
            }
            .border_left { border-left: 1px #000 solid; }
            .border_right { border-left: 1px #000 solid; }
            .border_top { border-left: 1px #000 solid; }
            .border_bottom { border-left: 1px #000 solid; }
            .border_around { border: 1px #000 solid; }
            .border_none, table.border_none td, table.border_none th { border: none; }
            .padding_none, table.padding_none td, table.padding_none th { padding: 0; }
            td, th {
            border: 1px #000 solid;
            padding: 1mm 2mm;
            vertical-align: top;
            }
            td {
            height: 10mm;
            }
            .lbl {
            text-transform: uppercase;
            font-size: 8pt;
            }
            .pull-top {
            border-top:none;
            }
            .text-align_center { text-align: center; }
            .text-align_right { text-align: right; }
            .text-align_left { text-align: left; }
            table.table-data td {
            height: auto;
            border-top: 1px #bbb dotted;
            border-right: 1px #000 solid;
            border-bottom: 1px #bbb dotted;
            border-left: 1px #000 solid;
            }
            
            table.table-data tbody tr:first-child td{
            border-top: 1px #000 solid;
            }
            
            table.table-data th{
            }
            
            .page {
            page-break-inside: avoid;
            }
            .nowrap {
            white-space: nowrap;
            }
        </style>
    </head>
    <body>
        <div class="footer">
            <table class="border_none f8 padding_none">
                <tr>
                    <td style="width:80%">
                        {!Labels['arrival_notice.issue_date']}:
                        <apex:outputText value="{0,date,dd/MM/yyyy}">
                            <apex:param value="{!AnkenList.PrintDate__c}"/>
                        </apex:outputText>
                        - 
                        <apex:outputText style="text-transform: uppercase;" value=" {!Labels['wms_debitcredit.job_no']}"/>:
                        <apex:outputText value="{!AnkenList.JobRequestID__c}"></apex:outputText>
                        <!-- - {!Labels['arrival_notice.pic']}: -->
                        <!-- <apex:outputText value="{!AnkenList.PersonInCharge__r.Name}"></apex:outputText> -->
                    </td>
                    <td style="text-align: right; width:20%">
                        <span class="pagenumber"/>
                    </td>
                </tr>
            </table>
        </div>
        
        
        
        <!-- Copy air form-->
        <apex:repeat value="{!PageList}" var="page">
            <div class="page">
                <div class="pnl-logo">
                    <table class="border_none">
                        <tr>
                            <td>
                                <img align="middle" src="{!$Setup.Site_Custom_Settings__c.Logo_URL__c}" width="150px"/>
                            </td>
                            <td class="text-align_left">
                                <p class="f20">
                                    {!Labels['arrival_notice.arrival_notice']}
                                </p>
                                <p class="f12">
                                    <apex:outputLabel value="{!$Setup.Site_Custom_Settings__c.Company_Name__c}" />
                                </p>
                                <p class="f6">
                                    <apex:outputText style="white-space:pre-wrap; text-align: center;" value="{!$Setup.Site_Custom_Settings__c.EnglishCompanyAddressLine1__c}"></apex:outputText>
                                </p>
                                <p class="f6">
                                    <apex:outputText style="white-space:pre-wrap; text-align: center;" value="{!$Setup.Site_Custom_Settings__c.EnglishCompanyAddressLine2__c}"></apex:outputText>
                                </p>
                                <p class="f6">
                                    <apex:outputLabel value="TEL: {!$Setup.Site_Custom_Settings__c.Company_Phone__c}" rendered="{!$Setup.Site_Custom_Settings__c.Company_Phone__c != null}" />
                                    <apex:outputLabel value="     FAX: {!$Setup.Site_Custom_Settings__c.Company_Fax__c}" rendered="{!$Setup.Site_Custom_Settings__c.Company_Fax__c != null}" />
                                </p>
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- Only for page 1-->
                <apex:outputPanel rendered="{! page ==1}">
                    <div class="pnl-info pull-top">
                        <table>
                            <tr>
                                <td>
                                    <p class="lbl">{!Labels['arrival_notice.consignee']}</p>
                                    <apex:outputText style="white-space:pre-wrap;" value="{!AnkenList.CNEE_ADDRESS_ON_B_L__c}"></apex:outputText>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p class="lbl">{!Labels['arrival_notice.notify_party']}</p>
                                    <apex:outputText style="white-space:pre-wrap;" value="{!AnkenList.NOTIFY_ADDRESS_ON_B_L__c}"></apex:outputText>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p class="lbl">{!Labels['arrival_notice.shipper']}</p>
                                    <apex:outputText style="white-space:pre-wrap;" value="{!AnkenList.ADDRESS_ON_B_L__c}"></apex:outputText>
                                </td>
                            </tr>
                        </table>
                        <table class="pull-top">
                            <col width="25%" />
                            <col width="25%" />
                            <col width="25%" />
                            <col width="25%" />
                            <tr>
                                <td colspan = "2">
                                    <p class="lbl">FLIGHT NO.</p>
                                    <apex:outputText value="{!AnkenList.FlightNo__c}"></apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">HAWB NO.</p>
                                    <apex:outputText value="{!AnkenList.HAWB__c}"></apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">MAWB NO.</p>
                                    <apex:outputText value="{!AnkenList.MAWB__c}"></apex:outputText>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p class="lbl">A.O.D</p>
                                    <apex:outputText value="{!AnkenList.PortOfLoadingDetailPrint__c}"></apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">A.O.A</p>
                                    <apex:outputText value="{!AnkenList.PortOfDischargeDetailPrint__c}"></apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">PLACE OF DELIVERY</p>
                                    <apex:outputText value="{!AnkenList.PlaceOfDeliveryDetailPrint__c}"></apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">ETA</p>
                                    <apex:outputText value="{0,date,{!dateFormat}}">
                                        <apex:param value="{!AnkenList.ETA__c}"/>
                                    </apex:outputText>
                                </td>
                            </tr>
                            <tr>
                                
                                <td>
                                    <p class="lbl">PACKAGE</p>
                                    <apex:outputText value="{!AnkenList.carton__c} {!AnkenList.UnitType__c}(s)"></apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">GROSS WEIGHT</p>
                                    <apex:outputText value="{!AnkenList.weight__c} KGS"></apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">CHARGEABLE WEIGHT</p>
                                    <apex:outputText value="{!AnkenList.chargable_weight__c} KGS"></apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">DESCRIPTION OF GOODS</p>
                                    <apex:outputfield value="{!AnkenList.GoodsDescriptiononAN__c}"/>
                                </td>
                                
                            </tr>
                            <tr>
                                <td>
                                    <p class="lbl">MARK &amp; NUMBERS</p>
                                    <apex:outputfield value="{!AnkenList.Marks_and_Numbers__c}"/> <br/>
                                    <apex:outputText rendered="{!AnkenList.Marks_and_Numbers__c = null}">
                                    N/M<br/>
                                    </apex:outputText>
                                </td>
                                <td>
                                    <p class="lbl">MEASUREMENT</p>
                                    <apex:outputText value="{!AnkenList.CBM__c} CBM"></apex:outputText>
                                </td>
                                <td colspan="2">
                                    <apex:outputPanel rendered="{!(AnkenList.LoadLocation__r.name != null || AnkenList.LoadLocation__r.LoadAddress__c != null || AnkenList.LoadLocation__r.LoadTEL__c != null || AnkenList.LoadLocation__r.LoadFAX__c != null || AnkenList.LoadLocation_Remarks__c != null) || IF(ISBLANK(AnkenList.LoadLocationPIC__c), FALSE, TRUE)}">
                                    <p class="lbl">{!Labels['arrival_notice.load_location']}</p>
                                    <apex:outputPanel rendered="{!AnkenList.LoadLocation__r.name != null}">
                                    <apex:outputText value="{!AnkenList.LoadLocation__r.name}"></apex:outputText><br/>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!AnkenList.LoadLocation__r.LoadAddress__c != null}">
                                    <apex:outputText value="{!AnkenList.LoadLocation__r.LoadAddress__c}"></apex:outputText><br/>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!AnkenList.LoadLocation__r.LoadTEL__c != null || AnkenList.LoadLocation__r.LoadFAX__c != null}">
                                    <apex:outputText value="TEL: {!AnkenList.LoadLocation__r.LoadTEL__c} FAX: {!AnkenList.LoadLocation__r.LoadFAX__c}"></apex:outputText><br/>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!IF(ISBLANK(AnkenList.LoadLocationPIC__c), FALSE, TRUE)}">
                                    <apex:outputText value="PIC:　{!AnkenList.LoadLocationPIC__c }" rendered="{!IF(ISBLANK(AnkenList.LoadLocationPIC__c), FALSE, TRUE)}"></apex:outputText> <br/>
                                    </apex:outputPanel>
                                    <apex:outputField value="{!AnkenList.LoadLocation_Remarks__c}"/>
                                    </apex:outputPanel>
                                </td>
                            </tr>

                            <apex:outputPanel rendered="{!AnkenList.No_Of_LoadingConfirmation__c != null && (AnkenList.TransitV__c != null || AnkenList.TS__c != null)}">
                                <tr>
                                    <td colspan="2" width="50%">
                                        <p class="lbl">TRANSIT FLIGHT / AIRPORT</p>
                                        <apex:outputText value="{!AnkenList.TransitV__c}"></apex:outputText>
                                        <apex:outputText value="{! ' / ' }" rendered="{! AnkenList.TransitV__c != null && AnkenList.TS__c != null}"></apex:outputText>
                                        <apex:outputText value="{!AnkenList.TS__c}"></apex:outputText>
                                    </td>                                
                                    <td colspan="2"  width="50%">
                                        <apex:outputPanel rendered="{!AnkenList.No_Of_LoadingConfirmation__c != null}">
                                            <p class="lbl">WAREHOUSE CONFIRMATION NO.</p>
                                            <apex:outputText value="{!AnkenList.No_Of_LoadingConfirmation__c}"></apex:outputText>
                                        </apex:outputPanel>
                                    </td>
                                </tr>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!AnkenList.No_Of_LoadingConfirmation__c == null && (AnkenList.TransitV__c != null || AnkenList.TS__c != null)}">
                                <tr>
                                    <td colspan="4" width="100%">
                                        <p class="lbl">TRANSIT FLIGHT / AIRPORT</p>
                                        <apex:outputText value="{!AnkenList.TransitV__c}"></apex:outputText>
                                        <apex:outputText value="{! ' / ' }" rendered="{! AnkenList.TransitV__c != null && AnkenList.TS__c != null}"></apex:outputText>
                                        <apex:outputText value="{!AnkenList.TS__c}"></apex:outputText>
                                    </td> 
                                </tr>
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!AnkenList.No_Of_LoadingConfirmation__c != null && (AnkenList.TransitV__c == null && AnkenList.TS__c == null)}">
                                <tr>
                                    <td colspan="4"  width="100%">
                                        <apex:outputPanel rendered="{!AnkenList.No_Of_LoadingConfirmation__c != null}">
                                            <p class="lbl">WAREHOUSE CONFIRMATION NO.</p>
                                            <apex:outputText value="{!AnkenList.No_Of_LoadingConfirmation__c}"></apex:outputText>
                                        </apex:outputPanel>
                                    </td>
                                </tr>
                            </apex:outputPanel>
                        </table>
                    </div>
                </apex:outputPanel>
                <apex:outputPanel rendered="{! ItemList.size != 0}">
                    <div class="pnl-data pull-top">
                        <table class="table-data">
                            <col width="35%" />
                            <col width="5%" />
                            <col width="10%" />
                            <col width="10%" />
                            <col width="5%" />
                            <col width="5%" />
                            <col width="7%" />
                            <col width="8%" />
                            <col width="7%" />
                            <col width="8%" />
                            
                            <thead>
                                <tr >
                                    <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.freight_charge']}</th>
                                    <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.quantity']}</th>
                                    <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.unit']}</th>
                                    <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.unit_price']}</th>
                                    <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.currency']}</th>
                                    <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.tax']}<br/> <span class="nowrap">(%)</span></th>
                                    <!-- <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.total_amount']} <br/> <span class="nowrap">(VND)</span></th> -->
                                    <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.total_amount']}</th>
                                    <!-- <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.amount_incl_tax']} <br/><span class="nowrap">(VND)</span></th> -->
                                    <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.amount_incl_tax']}</th>
                                    <!-- <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.total_amount']} <span class="nowrap">(USD)</span></th> -->
                                    <!-- <th class="lbl text-align_center" style="font-size:6pt;">{!Labels['arrival_notice.amount_incl_tax']} <br/><span class="nowrap">(USD)</span></th> -->
                                </tr>
                            </thead>
                            <tbody  style="font-size:6pt;">
                                <apex:repeat value="{!itemList2[page]}" var="DetailList">
                                    <tr>
                                        <td>
                                            <apex:outputText value="{!SUBSTITUTE(SUBSTITUTE(SUBSTITUTE(DetailList.InsatuyouSyohin__c, 'Surcharge Included',''),'Surcharge Excluded',''),'(TAX)', '') }" rendered="{!$CurrentPage.parameters.language == 'vi'}" />
                                            <apex:outputText value="{!SUBSTITUTE(SUBSTITUTE(SUBSTITUTE(DetailList.InsatuyouSyohinEng__c, 'Surcharge Included',''),'Surcharge Excluded',''),'(TAX)','') }" rendered="{!$CurrentPage.parameters.language != 'vi'}" />
                                        </td>
                                        <td class="text-align_center">
                                            <apex:outputText value="{!VALUE(DetailList.wkSuryo__c)}" />
                                            <apex:outputText rendered="{! DetailList.wkSuryo__c == null }">-</apex:outputText>
                                        </td>
                                        <td class="text-align_center">
                                            <apex:outputText value="{!DetailList.ChargeUnitInPrint__c}" rendered="{! DetailList.ChargeUnitInPrint__c != null }"></apex:outputText>
                                            <apex:outputText rendered="{! DetailList.ChargeUnitInPrint__c == null }">-</apex:outputText>
                                        </td>
                                        <td class="text-align_right">
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c != foreignCur && DetailList.curr__c != localCur && DetailList.UnitPriceofSelling3rdCurrency__c != 0 && DetailList.UnitPriceofSelling3rdCurrency__c != null}">
                                                <apex:param value="{!DetailList.UnitPriceofSelling3rdCurrency__c}"/>
                                            </apex:outputText>
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c == foreignCur && DetailList.SellTankaUSD__c != 0 && DetailList.SellTankaUSD__c != null}">
                                                <apex:param value="{!DetailList.SellTankaUSD__c}"/>
                                            </apex:outputText>
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c == localCur && DetailList.SellTankaJPY__c != 0 && DetailList.SellTankaJPY__c != null}">
                                                <apex:param value="{!DetailList.SellTankaJPY__c}"/>
                                            </apex:outputText>
                                            <apex:outputText rendered="{! OR(DetailList.curr__c == foreignCur && (DetailList.SellTankaUSD__c == 0 || DetailList.SellTankaUSD__c == null), DetailList.curr__c == localCur && (DetailList.SellTankaJPY__c == 0 || DetailList.SellTankaJPY__c == null), DetailList.curr__c != localCur && DetailList.curr__c != foreignCur && (DetailList.UnitPriceofSelling3rdCurrency__c == 0 || DetailList.UnitPriceofSelling3rdCurrency__c == null))}">-</apex:outputText>
                                        </td>
                                        <td>
                                            {!DetailList.curr__c}
                                            <apex:outputPanel rendered="{! DetailList.InsatuyouSyohin__c == '-' }">-</apex:outputPanel>
                                        </td>
                                        <td class="text-align_right">
                                            <apex:outputText value="{!DetailList.clofor_com_cfs__TaxInitial__c}"  rendered="{!DetailList.clofor_com_cfs__TaxInitial__c != 0}"> </apex:outputText>
                                            <apex:outputText rendered="{!DetailList.clofor_com_cfs__TaxInitial__c == null || DetailList.clofor_com_cfs__TaxInitial__c == 0}">-</apex:outputText>
                                        </td>
                                        <!-- <td class="text-align_right"> -->
                                            <!-- <apex:outputLabel rendered="{!DetailList.curr__c != 'USD'}"> -->
                                                <!-- <apex:outputText value="{0,number,###,###,###,###}"  rendered="{!DetailList.SellAmountJPN__c != 0}"> -->
                                                    <!-- <apex:param value="{!DetailList.SellAmountJPN__c}"/> -->
                                                <!-- </apex:outputText> -->
                                                <!-- <apex:outputText rendered="{!DetailList.SellAmountJPN__c == null || DetailList.SellAmountJPN__c == 0}">-</apex:outputText> -->
                                            <!-- </apex:outputLabel> -->
                                            <!-- <apex:outputLabel rendered="{!DetailList.curr__c == 'USD'}"> -->
                                                <!-- <apex:outputText rendered="{!DetailList.curr__c == 'USD'}">-</apex:outputText> -->
                                            <!-- </apex:outputLabel> -->
                                        <!-- </td> -->
                                        <!-- <td class="text-align_right"> -->
                                            <!-- <apex:outputLabel rendered="{!DetailList.curr__c != 'USD'}"> -->
                                                <!-- <apex:outputText value="{0,number,###,###,###,###}" rendered="{!DetailList.SellInTaxAmountJPY__c != 0}"> -->
                                                    <!-- <apex:param value="{!DetailList.SellInTaxAmountJPY__c}"/> -->
                                                <!-- </apex:outputText> -->
                                                <!-- <apex:outputText rendered="{! DetailList.SellInTaxAmountJPY__c == null || DetailList.SellInTaxAmountJPY__c == 0 }">-</apex:outputText> -->
                                            <!-- </apex:outputLabel> -->
                                            <!-- <apex:outputLabel rendered="{!DetailList.curr__c == 'USD'}"> -->
                                                <!-- <apex:outputText rendered="{!DetailList.curr__c == 'USD'}">-</apex:outputText> -->
                                            <!-- </apex:outputLabel> -->
                                        <!-- </td> -->
                                        <td class="text-align_right">
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c != foreignCur && DetailList.curr__c != localCur && DetailList.TotalAmountofSelling3rdCurrency__c != 0 && DetailList.TotalAmountofSelling3rdCurrency__c != null}">
                                                <apex:param value="{!DetailList.TotalAmountofSelling3rdCurrency__c}"/>
                                            </apex:outputText>
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c == foreignCur && DetailList.SellAmountUSD__c != 0 && DetailList.SellAmountUSD__c != null}">
                                                <apex:param value="{!DetailList.SellAmountUSD__c}"/>
                                            </apex:outputText>
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c == localCur && DetailList.SellAmountJPN__c != 0 && DetailList.SellAmountJPN__c != null}">
                                                <apex:param value="{!DetailList.SellAmountJPN__c}"/>
                                            </apex:outputText>
                                            <apex:outputText rendered="{! OR(DetailList.curr__c == foreignCur && (DetailList.SellAmountUSD__c == 0 || DetailList.SellAmountUSD__c == null), DetailList.curr__c == localCur && (DetailList.SellAmountJPN__c == 0 || DetailList.SellAmountJPN__c == null), DetailList.curr__c != localCur && DetailList.curr__c != foreignCur && (DetailList.TotalAmountofSelling3rdCurrency__c == 0 || DetailList.TotalAmountofSelling3rdCurrency__c == null))}">-</apex:outputText>
                                        
                                            <!--<apex:outputLabel rendered="{!DetailList.curr__c != 'USD'}">
                                                <apex:outputText value="{0,number,###,###,###,###}"  rendered="{!DetailList.SellAmountJPN__c != 0}">
                                                    <apex:param value="{!DetailList.SellAmountJPN__c}"/>
                                                </apex:outputText>
                                                <apex:outputText rendered="{!DetailList.SellAmountJPN__c == null || DetailList.SellAmountJPN__c == 0}">-</apex:outputText>
                                            </apex:outputLabel>
                                            <apex:outputLabel rendered="{!DetailList.curr__c == 'USD'}">
                                                <apex:outputText value="{0, number, ###,###,##0.000}" rendered="{!DetailList.SellAmountUSD__c != 0}">
                                                    <apex:param value="{!DetailList.SellAmountUSD__c}"/>
                                                </apex:outputText>
                                                <apex:outputText rendered="{!DetailList.SellAmountUSD__c == null || DetailList.SellAmountUSD__c == 0}">-</apex:outputText>
                                            </apex:outputLabel>-->
                                        </td>
                                        <td class="text-align_right">
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c != foreignCur && DetailList.curr__c != localCur && DetailList.AmountSellingInclTax3rdCurrency__c != 0 && DetailList.AmountSellingInclTax3rdCurrency__c != null}">
                                                <apex:param value="{!DetailList.AmountSellingInclTax3rdCurrency__c}"/>
                                            </apex:outputText>
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c == foreignCur && DetailList.SellInTaxAmount_USD__c != 0 && DetailList.SellInTaxAmount_USD__c != null}">
                                                <apex:param value="{!DetailList.SellInTaxAmount_USD__c}"/>
                                            </apex:outputText>
                                            <apex:outputText value="{! if(DetailList.curr__c == 'VND' || DetailList.curr__c == 'JPY', '{0,number,###,###,###,###}', '{0, number, ###,###,##0.000}')}"  rendered="{! DetailList.curr__c == localCur && DetailList.SellInTaxAmountJPY__c != 0 && DetailList.SellInTaxAmountJPY__c != null}">
                                                <apex:param value="{!DetailList.SellInTaxAmountJPY__c}"/>
                                            </apex:outputText>
                                            <apex:outputText rendered="{! OR(DetailList.curr__c == foreignCur && (DetailList.SellInTaxAmount_USD__c == 0 || DetailList.SellInTaxAmount_USD__c == null), DetailList.curr__c == localCur && (DetailList.SellInTaxAmountJPY__c == 0 || DetailList.SellInTaxAmountJPY__c == null), DetailList.curr__c != localCur && DetailList.curr__c != foreignCur && (DetailList.AmountSellingInclTax3rdCurrency__c == 0 || DetailList.AmountSellingInclTax3rdCurrency__c == null))}">-</apex:outputText>
                                        
                                            <!--<apex:outputLabel rendered="{!DetailList.curr__c != 'USD'}">
                                                <apex:outputText value="{0,number,###,###,###,###}" rendered="{!DetailList.SellInTaxAmountJPY__c != 0}">
                                                    <apex:param value="{!DetailList.SellInTaxAmountJPY__c}"/>
                                                </apex:outputText>
                                                <apex:outputText rendered="{! DetailList.SellInTaxAmountJPY__c == null || DetailList.SellInTaxAmountJPY__c == 0 }">-</apex:outputText>
                                            </apex:outputLabel>
                                            <apex:outputLabel rendered="{!DetailList.curr__c == 'USD'}">
                                                <apex:outputText value="{0, number, ###,###,##0.000}" rendered="{!DetailList.SellInTaxAmount_USD__c != 0}">
                                                    <apex:param value="{!DetailList.SellInTaxAmount_USD__c}"/>
                                                </apex:outputText>
                                                <apex:outputText rendered="{! DetailList.SellInTaxAmount_USD__c == null || DetailList.SellInTaxAmount_USD__c == 0 }">-</apex:outputText>
                                            </apex:outputLabel>-->
                                        </td>
                                        <!-- <td class="text-align_right"> -->
                                            <!-- <apex:outputLabel rendered="{!DetailList.curr__c == 'USD'}"> -->
                                                <!-- <apex:outputText value="{0, number, ###,###,##0.000}" rendered="{!DetailList.SellAmountUSD__c != 0}"> -->
                                                    <!-- <apex:param value="{!DetailList.SellAmountUSD__c}"/> -->
                                                <!-- </apex:outputText> -->
                                                <!-- <apex:outputText rendered="{!DetailList.SellAmountUSD__c == null || DetailList.SellAmountUSD__c == 0}">-</apex:outputText> -->
                                            <!-- </apex:outputLabel> -->
                                            <!-- <apex:outputLabel rendered="{!DetailList.curr__c != 'USD'}"> -->
                                                <!-- <apex:outputText rendered="{!DetailList.curr__c != 'USD'}">-</apex:outputText> -->
                                            <!-- </apex:outputLabel> -->
                                        <!-- </td> -->
                                        <!-- <td class="text-align_right"> -->
                                            <!-- <apex:outputLabel rendered="{!DetailList.curr__c == 'USD'}"> -->
                                            <!-- <apex:outputText value="{0, number, ###,###,##0.000}" rendered="{!DetailList.SellInTaxAmount_USD__c != 0}"> -->
                                                <!-- <apex:param value="{!DetailList.SellInTaxAmount_USD__c}"/> -->
                                            <!-- </apex:outputText> -->
                                            <!-- <apex:outputText rendered="{! DetailList.SellInTaxAmount_USD__c == null || DetailList.SellInTaxAmount_USD__c == 0 }">-</apex:outputText> -->
                                            <!-- </apex:outputLabel> -->
                                            <!-- <apex:outputLabel rendered="{!DetailList.curr__c != 'USD'}"> -->
                                                <!-- <apex:outputText rendered="{!DetailList.curr__c != 'USD'}">-</apex:outputText> -->
                                            <!-- </apex:outputLabel> -->
                                        <!-- </td> -->
                                    </tr>
                                </apex:repeat>
                            </tbody>
                        </table>
                    </div>
                    <apex:outputPanel rendered="{! page ==PageList.size}">
                        <div class="pnl-sum pull-top">
                            <table>
                                <apex:repeat value="{!lstCurrs}" var="lstTemp">
                                    <apex:outputPanel rendered="{! lstTemp[0] == lstCurrs[0][0]}">
                                        <tr>
                                            <td rowspan = "{!numberOfRowsTotal}" width="35%">
                                                <p class="lbl">{!Labels['arrival_notice.bl_type']}</p>
                                                <p class="f14"><apex:outputText value="{!AnkenList.BLtype__c}"></apex:outputText></p>
                                            </td>
                                            
                                            <td style="border-right: none;  text-align: right;"  width="25%">
                                                <apex:outputPanel rendered="{! lstTemp.size > 0}">
                                                    <p class="lbl">{!Labels['arrival_notice.total_amount']} (<apex:outputText value="{!lstTemp[0]}"/><apex:outputText value="{!$Setup.Site_Custom_Settings__c.Local_Currency__c}"  rendered="{!$CurrentPage.parameters.currency != 'USD'}"/>)</p>
                                                    <p class="f14" style="text-indent: 15mm;  text-align: right;">
                                                        <apex:outputText value="{0,number,###,###,##0}" rendered="{!lstTemp[0] == 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[0]]}"/>
                                                        </apex:outputText>
                                                        <apex:outputText value="{0,number,###,###,##0.00}" rendered="{!lstTemp[0] != 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[0]]}"/>
                                                        </apex:outputText>
                                                    </p>
                                                </apex:outputPanel>
                                            </td>
                                            <td style="border-right: none; border-left: none;  text-align: right;"  width="20%">
                                                <apex:outputPanel rendered="{! lstTemp.size > 1}">
                                                    <p class="lbl">{!Labels['arrival_notice.total_amount']} (<apex:outputText value="{!lstTemp[1]}"/><apex:outputText value="{!$Setup.Site_Custom_Settings__c.Local_Currency__c}"  rendered="{!$CurrentPage.parameters.currency != 'USD'}"/>)</p>
                                                    <p class="f14" style="text-indent: 15mm;  text-align: right;">
                                                        <apex:outputText value="{0,number,###,###,##0}" rendered="{!lstTemp[1] == 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[1]]}"/>
                                                        </apex:outputText>
                                                        <apex:outputText value="{0,number,###,###,##0.00}" rendered="{!lstTemp[1] != 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[1]]}"/>
                                                        </apex:outputText>
                                                    </p>
                                                </apex:outputPanel>
                                            </td>
                                            <td style="border-left: none;  text-align: right;"  width="20%">
                                                <apex:outputPanel rendered="{! lstTemp.size > 2}">
                                                    <p class="lbl">{!Labels['arrival_notice.total_amount']} (<apex:outputText value="{!lstTemp[2]}"/><apex:outputText value="{!$Setup.Site_Custom_Settings__c.Local_Currency__c}"  rendered="{!$CurrentPage.parameters.currency != 'USD'}"/>)</p>
                                                    <p class="f14" style="text-indent: 15mm;  text-align: right;">
                                                        <apex:outputText value="{0,number,###,###,##0}" rendered="{!lstTemp[2] == 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[2]]}"/>
                                                        </apex:outputText>
                                                        <apex:outputText value="{0,number,###,###,##0.00}" rendered="{!lstTemp[2] != 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[2]]}"/>
                                                        </apex:outputText>
                                                    </p>
                                                </apex:outputPanel>
                                            </td>
                                        </tr>
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{! lstTemp[0] != lstCurrs[0][0]}">
                                        <tr>
                                            <td style="border-right: none;  text-align: right;"  width="25%">
                                                <apex:outputPanel rendered="{! lstTemp.size > 0}">
                                                    <p class="lbl">{!Labels['arrival_notice.total_amount']} (<apex:outputText value="{!lstTemp[0]}"/><apex:outputText value="{!$Setup.Site_Custom_Settings__c.Local_Currency__c}"  rendered="{!$CurrentPage.parameters.currency != 'USD'}"/>)</p>
                                                    <p class="f14" style="text-indent: 15mm;  text-align: right;">
                                                        <apex:outputText value="{0,number,###,###,##0}" rendered="{!lstTemp[0] == 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[0]]}"/>
                                                        </apex:outputText>
                                                        <apex:outputText value="{0,number,###,###,##0.00}" rendered="{!lstTemp[0] != 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[0]]}"/>
                                                        </apex:outputText>
                                                    </p>
                                                </apex:outputPanel>
                                            </td>
                                            <td style="border-right: none; border-left: none;  text-align: right;"  width="25%">
                                                <apex:outputPanel rendered="{! lstTemp.size > 1}">
                                                    <p class="lbl">{!Labels['arrival_notice.total_amount']} (<apex:outputText value="{!lstTemp[1]}"/><apex:outputText value="{!$Setup.Site_Custom_Settings__c.Local_Currency__c}"  rendered="{!$CurrentPage.parameters.currency != 'USD'}"/>)</p>
                                                    <p class="f14" style="text-indent: 15mm;  text-align: right;">
                                                        <apex:outputText value="{0,number,###,###,##0}" rendered="{!lstTemp[1] == 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[1]]}"/>
                                                        </apex:outputText>
                                                        <apex:outputText value="{0,number,###,###,##0.00}" rendered="{!lstTemp[1] != 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[1]]}"/>
                                                        </apex:outputText>
                                                    </p>
                                                </apex:outputPanel>
                                            </td>
                                            <td style="border-left: none;  text-align: right;"  width="25%">
                                                <apex:outputPanel rendered="{! lstTemp.size > 2}">
                                                    <p class="lbl">{!Labels['arrival_notice.total_amount']} (<apex:outputText value="{!lstTemp[2]}"/><apex:outputText value="{!$Setup.Site_Custom_Settings__c.Local_Currency__c}"  rendered="{!$CurrentPage.parameters.currency != 'USD'}"/>)</p>
                                                    <p class="f14" style="text-indent: 15mm;  text-align: right;">
                                                        <apex:outputText value="{0,number,###,###,##0}" rendered="{!lstTemp[2] == 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[2]]}"/>
                                                        </apex:outputText>
                                                        <apex:outputText value="{0,number,###,###,##0.00}" rendered="{!lstTemp[2] != 'VND'}">
                                                            <apex:param value="{!mapTotalAmountByCurr[lstTemp[2]]}"/>
                                                        </apex:outputText>
                                                    </p>
                                                </apex:outputPanel>
                                            </td>
                                        </tr>
                                    </apex:outputPanel>
                                </apex:repeat>
                            </table>
                        </div>
                    </apex:outputPanel>
                </apex:outputPanel>
                <div class="infoBank-Alert"  style="{! IF(isBreakPage, 'page-break-before: always;', '')}">
                    <div class="pnl-logo"  style="{! IF(isBreakPage, '', 'display: none;')}">
                        <table class="border_none">
                            <tr>
                                <td>
                                    <img align="middle" src="{!$Setup.clofor_com_cfs__Site_Custom_Settings__c.clofor_com_cfs__Logo_URL__c}" width="150px"/>
                                </td>
                                <td class="text-align_left">
                                    <p class="f20">
                                        {!Labels['arrival_notice.arrival_notice']}
                                    </p>
                                    <p class="f12">
                                        <apex:outputLabel value="{!$Setup.Site_Custom_Settings__c.Company_Name__c}" />
                                    </p>
                                    <p class="f6">
                                        <apex:outputText style="white-space:pre-wrap; text-align: center;" value="{!$Setup.Site_Custom_Settings__c.EnglishCompanyAddressLine1__c}"></apex:outputText>
                                    </p>
                                    <p class="f6">
                                        <apex:outputText style="white-space:pre-wrap; text-align: center;" value="{!$Setup.Site_Custom_Settings__c.EnglishCompanyAddressLine2__c}"></apex:outputText>
                                    </p>
                                    <p class="f6">
                                        <apex:outputLabel value="TEL: {!$Setup.Site_Custom_Settings__c.Company_Phone__c}" rendered="{!$Setup.Site_Custom_Settings__c.Company_Phone__c != null}" />
                                        <apex:outputLabel value="     FAX: {!$Setup.Site_Custom_Settings__c.Company_Fax__c}" rendered="{!$Setup.Site_Custom_Settings__c.Company_Fax__c != null}" />
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div style="{! IF(page ==PageList.size, '', 'display: none;')}">
                        <table>
                            <tr>
                                <td colspan= "4">
                                    <p class="lbl">{!Labels['arrival_notice.transfer_to']}</p>
                                    <p>
                                        {!bankName} <br />
                                        {!bankNumber}　{!bankAccount}
                                    </p>
                                    <apex:outputPanel rendered="{!AnkenList.Remarks__c != null}">
                                        <p class="lbl">{!Labels['arrival_notice.damage_remarks']}</p>
                                        <apex:outputText value="{!AnkenList.Remarks__c}"></apex:outputText>&nbsp;
                                        
                                        <table class="border_none padding_none">
                                            <tr>
                                                <td>
                                                    <apex:outputPanel rendered="{! !ISBLANK(AnkenList.FreeDemurrageTime__c) }">
                                                        <p class="lbl">{!Labels['arrival_notice.free_demurrage']}</p>
                                                        
                                                        <apex:outputText value="{0,date,dd/MM/yyyy}">
                                                            <apex:param value="{!AnkenList.FreeDemurrageTime__c}"/>
                                                        </apex:outputText>
                                                    </apex:outputPanel>
                                                </td>
                                                <td>
                                                    <apex:outputPanel rendered="{! !ISBLANK(AnkenList.FreeDemurrageTime__c) }">
                                                        <p class="lbl">{!Labels['arrival_notice.free_detention']}</p>
                                                        
                                                        <apex:outputText value="{0,date,dd/MM/yyyy}">
                                                            <apex:param value="{!AnkenList.FreeDemurrageTime__c}"/>
                                                        </apex:outputText>
                                                    </apex:outputPanel>
                                                </td>
                                            </tr>
                                        </table>
                                    </apex:outputPanel>
                                </td>
                            </tr>
                            <tr>
                                <td colspan= "4">
                                    <apex:outputText escape="false" value="{!AnkenList.ANRemark__c}"></apex:outputText>
                                </td>
                            </tr>
                        </table>
                        
                        <p style="padding:2mm;">
                            The Chargeable Weight is the Actual Gross Weight or the Volumetric Weight of the shipment – whichever is the greater.
                        </p>
                    </div>
                </div>
            </div>
        </apex:repeat>
    </body>
</apex:page>